# mercator

A computer game implementation of a ***closed economical simulation***.<br>
The current world is generated procedurally and includes %d cities, %d factories, %d traders and %d sims.<br>   
The amount of wealth in the system, including products and money is constant at all times.<br>
Factories pay wages to sims to produce goods that are sold on a free market.<br>
Some sims are traders that buy products in one city and sell them with profit in another city.<br>   
All sims have needs that they need to fulfill else they die.<br>
All sims have cravings that they need to fulfill to keep their satisfaction level up.<br>  
All sounds are generated by a openal based audio render engine for libgdx supporting procedurally generated audio using
**HRTF**.<br>   
Demo song is 'abyss' by Abdalla Bushnaq.<br>
Work in progress...<br>   
Developed using libgdx and gdx-gltf open source frameworks.<br>

## How To Run

mercator is still in development, so you will have to open it in a IDE like eclipse or IntelliJ.<br>
After that, you need to crete the atlas map by running GenerateAtlasTest.java test.
Then you can start mercator by one of its starting classes

1. Launcher2D Launches mercator 2D mode (planned to be used when zooming out).
2. Launcher3D Launches mercator 3D mode.
3. Launcher3DDemo Launches mercator 2D demo mode.
4. Launcher3DDeveMode Launches mercator 3D developer mode (paths have labels).

## Key mapping

| key(s)                | description                     |
|-----------------------|---------------------------------|
| a, w, d, s            | move camera (still broken)      |
| left, up, right, down | move camera (still broken)      |
| ESC                   | quit                            |
| pause                 | pause/unpause                   |
| print                 | print screen/                   |
| tab                   | show profiler in scene manager  |
| f                     | follow selected trader          |
| h                     | enable/disable hrtf audio       |
| i                     | enable/disable information      |
| v                     | enable/disable vsync            |
| F1                    | enable/disable gamma correction |
| F2                    | enable/disable depth of field   |
| F3                    | enable/disable depth filter     |
| F4                    | enable/disable ssao             |
| F5                    | enable/disable always day       |
| F6                    | enable/disable demo mode        |
| F7                    |                                 |
| F8                    |                                 |
| F9                    | enable/disable graphs           |
| F10                   | enable/disable debug mode       |
| F11                   |                                 |
| F12                   |                                 |

## Issues

1. on silent stations, many traders can be handles by traffic at the same time.
1. moving camera breaks tts, as transitioning to disabled tts will never trigger the end.
2. tts generation must be anyc
3. station needs to reject docking/udocking if dock is busy
1. Form selecting an item does not show info in the lower pane.
2. Economy is not stable, all sims eventually die of hunger.
3. simulation advanceintime is triggered every frame.
4. ensure adding/removing lights does not cause any caching to get dirty.
5. optimize selected path performance
6. ships will collide while navigating from planet to planet.
7. zooming does not change center

## Tasks

1. traders need to document event of planning a trip
2. traders also need to document the event of occupying/freeing the dock
3. traders need to document the event of requesting docking/undocking
4. should trader rather use sim eventmanager?
5. should planet rather use sim eventmanager?
1. remove "" from tts subtitles
1. add more light
2. reduce blur
3. add demo scheduled effect to blend in, maybe camera to follow nearest trader?
2. fix ships will collide while navigating from planet to planet.
3. add SSAO
4. fix openAL error when stopping demo mode

# Bugs

01- 'Driftwood' is occupying 'Leo Minor Port' dock, but not showing up.



